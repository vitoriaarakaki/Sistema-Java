-<%@ page contentType="text/html; charset=UTF-8"%>
<%@page import="Cad.Cadastro.*"%>
<%@page import="java.util.*"%>


<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cadastro do Usuário</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.js" integrity="sha512-CX7sDOp7UTAq+i1FYIlf9Uo27x4os+kGeoT7rgwvY+4dmjqV0IuE/Bl5hVsjnQPQiTOhAX1O2r2j5bjsFBvv/A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

		<script>
			function buscar(){
				var cep = document.querySelector("#cep").value;
				$.ajax({
					url: "https://viacep.com.br/ws/" + cep + "/json/",
					type: "get",
					success: function(resp){
						
						var rua = document.querySelector("#rua");
						var bairro = document.querySelector("#bairro");
						var cidade = document.querySelector("#cidade");

						if (resp.erro!=null){
							rua.innerHTML    =	"Não encontrado!";
							bairro.innerHTML =	"Não encontrado!";
							cidade.innerHTML =	"Não encontrado!";
						}else{
							rua.innerHTML    = resp.logradouro;
							bairro.innerHTML = resp.bairro;
							cidade.innerHTML = resp.localidade;
						}
					}
				});

			}
		</script>	
</head>
<body>

<form method="post" action="cadastro">

	Nome: <input type="text" name="txtnome" required="required" autocomplete="off"><br><br>
	Sobrenome: <input type="text" name="txtsobrenome" required="required" autocomplete="off"><br><br>
	Data Nascimento: <input type="date" name="txtdataNasc" required="required" autocomplete="off"><br><br>
	Documento:  <input type="text" name="txtdocumento" required="required" autocomplete="off"><br><br>
	Telefone:  <input type="text" name="txttelefone" required="required" autocomplete="off"><br><br>
	CEP: <input type="text" id="cep">

		<input type="button" value="Buscar" onclick="buscar()"/>

		<br>

		Rua...: <span id="rua"></span><br>
		Bairro: <span id="bairro"></span><br>
		Cidade: <span id="cidade"></span><br>
   
    <br>

    Email: <input type="text" name="txtemail" required="required" autocomplete="off"><br><br>
    User: <input type="text" name="txtuser" required="required" autocomplete="off"><br><br>
    Senha: <input type="password" name="txtsenha" required="required" autocomplete="off"><br><br>

</form>

</body>
</html>